Đã hoàn tất việc khởi tạo lại môi trường. Do hạn chế về quyền bảo mật của hệ thống, tôi không thể tự động xóa thư mục
  .expo (bạn có thể xóa thủ công nếu thấy ngứa mắt, nhưng nó không ảnh hưởng gì).

  Dưới đây là hướng dẫn chi tiết cách chạy dự án và cơ chế hoạt động của Dataflow & Business Logic.

  1. Hướng dẫn chạy dự án (Development)

  Bạn cần chạy các service song song (tốt nhất là mở 3 terminal).

  Bước 1: Khởi động Database (Terminal 1)
  Chạy PostgreSQL qua Docker:
   1 docker-compose up -d
  Đảm bảo Docker Desktop đang chạy.

  Bước 2: Chạy Backend API (Terminal 2)
  Backend Rust sẽ chạy tại cổng 3000.

   1 cd apps/api
   2 cargo run
  Lưu ý: Khi chạy lần đầu, Rust sẽ compile khá lâu. Sau khi chạy xong, nó sẽ tự động generate file rspc.ts chứa các type
  TypeScript vào apps/client-web/src/utils/rspc.ts.

  Bước 3: Chạy Client Web & Desktop (Terminal 3)
  Vì client-web là workspace chung cho cả Web và Tauri Desktop.

  Chạy chế độ Web (Browser):
   1 cd apps/client-web
   2 pnpm dev
  > Truy cập: http://localhost:5173

  Chạy chế độ Desktop (Tauri):
   1 cd apps/client-web
   2 pnpm tauri dev
  > Sẽ mở một cửa sổ ứng dụng Native Windows.

  Bước 4: Chạy Mobile (Terminal 4 - Optional)

   1 cd apps/mobile
   2 pnpm start

  ---

  2. Dataflow & Business Logic hoạt động như thế nào?

  Hệ thống được thiết kế theo kiến trúc Type-Safe Fullstack với rspc.

  A. Luồng dữ liệu (Dataflow)

   1. Database (PostgreSQL): Chứa dữ liệu thô (Single Source of Truth).
   2. Backend (Rust - `apps/api`):
       * Dùng SeaORM để query database an toàn.
       * Dùng Axum để phục vụ HTTP server.
       * Dùng RSPC để định nghĩa các "Procedures" (Queries/Mutations) thay vì REST endpoints truyền thống.
       * Quan trọng: Backend sẽ tự động xuất (export) types TypeScript ra file apps/client-web/src/utils/rspc.ts.
   3. Frontend (React - `apps/client-web`):
       * Import types từ file rspc.ts được generate ở trên.
       * Gọi API như gọi hàm bình thường (RPC), không cần lo lắng về URL hay method (GET/POST).
       * Nếu bạn sửa code Rust (ví dụ: đổi tên trường product_name -> name), Frontend sẽ báo lỗi đỏ ngay lập tức
         (Compile-time error).

  B. Business Logic (Chia tách rõ ràng)

   * Logic tính toán (Pure Logic): Nằm ở packages/core.
       * Ví dụ: Thuật toán FEFO (First Expired First Out), Validate số lượng tồn kho.
       * Được viết bằng TypeScript thuần (Functional Programming).
       * Cả Client Web, Desktop, và Mobile đều import thư viện này dùng chung.
       * Tại sao? Để đảm bảo logic tính toán thống nhất trên mọi nền tảng mà không cần gọi Server liên tục
         (Offline-ready logic).

   * Logic dữ liệu (Data Logic): Nằm ở apps/api.
       * Ví dụ: Transaction trừ kho, Auth, Sync dữ liệu.
       * Nơi đảm bảo tính toàn vẹn dữ liệu (ACID).

  C. Ví dụ thực tế

  Giả sử bạn làm tính năng "Tạo đơn nhập hàng" (Inbound Order):

   1. User nhập liệu: Trên React, User nhập số lượng.
   2. Validation (Client): React gọi packages/core để kiểm tra input (số dương, đúng format) -> Phản hồi tức thì.
   3. Submit: React gọi hàm rspc.mutation.createInboundOrder(data).
   4. Server Process: Rust nhận data, kiểm tra DB, thực hiện transaction SeaORM.
   5. Return: Trả về kết quả, React tự động cập nhật UI nhờ React Query (tích hợp sẵn trong rspc client).

  Trạng thái hiện tại: Đã setup xong khung sườn cho kiến trúc này. Backend đã sẵn sàng rspc, Client Web đã sẵn sàng
  Tauri. Bạn có thể bắt đầu code logic.